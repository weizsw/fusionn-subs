services:
  fusionn-subs:
    container_name: fusionn-subs
    build:
      context: .
      args:
        VERSION: ${VERSION:-dev}
    volumes:
      - /Volumes/External:/data
      - ./config:/app/config:ro
    environment:
      ENV: production
      CONFIG_PATH: /app/config/config.yaml
      # Override specific config values via env vars
      FUSIONN_SUBS_GEMINI_API_KEY: ${GEMINI_API_KEY}
      TZ: Asia/Shanghai
    networks:
      - fusionn_default

networks:
  fusionn_default:
    external: true
